# Project Structure

Complete file tree for Send Me Home monorepo.

```
send-me-home/
│
├── README.md                      # Main documentation
├── QUICKSTART.md                  # Quick start guide
├── GAME.md                        # Game design document
├── IMPLEMENTATION.md              # Implementation details
├── PROJECT_STRUCTURE.md           # This file
├── Makefile                       # Build commands
├── setup.sh                       # Setup script
├── .gitignore                     # Git ignore rules
│
├── proto/                         # Protocol Buffer definitions
│   └── game/
│       └── v1/
│           └── game.proto         # API definition (6 RPC methods)
│
├── buf.yaml                       # Buf configuration
├── buf.gen.yaml                   # Code generation config
│
├── backend/                       # Go backend
│   ├── README.md                  # Backend documentation
│   ├── go.mod                     # Go dependencies
│   ├── go.sum                     # (generated by go mod)
│   │
│   ├── cmd/
│   │   └── server/
│   │       └── main.go            # Server entry point
│   │
│   ├── internal/
│   │   ├── api/
│   │   │   └── handler.go         # Connect-RPC handlers (6 methods)
│   │   │
│   │   ├── config/
│   │   │   └── config.go          # Configuration loader
│   │   │
│   │   ├── models/
│   │   │   └── case.go            # Data models (Case, NPC, Document, etc.)
│   │   │
│   │   └── services/
│   │       ├── gemini/
│   │       │   └── client.go      # Gemini AI client (mock for now)
│   │       │
│   │       └── firestore/
│   │           └── client.go      # Session storage (in-memory for now)
│   │
│   └── gen/                       # Generated Go code (from proto)
│       └── game/
│           └── v1/
│               ├── game.pb.go     # Protocol buffer types
│               └── gamev1connect/ # Connect-RPC service stubs
│
└── frontend/                      # React TypeScript frontend
    ├── README.md                  # Frontend documentation
    ├── package.json               # npm dependencies
    ├── package-lock.json          # (generated by npm)
    ├── tsconfig.json              # TypeScript config (app)
    ├── tsconfig.node.json         # TypeScript config (node)
    ├── vite.config.ts             # Vite bundler config
    ├── index.html                 # HTML entry point
    │
    ├── public/                    # Static assets (empty for now)
    │
    └── src/
        ├── main.tsx               # React entry point
        ├── App.tsx                # Main app component
        ├── App.css                # App styles
        ├── index.css              # Global styles
        ├── vite-env.d.ts          # Vite type definitions
        │
        ├── api/
        │   └── client.ts          # Connect-RPC client setup
        │
        ├── components/
        │   ├── SessionStart.tsx   # Session initialization UI
        │   ├── SessionStart.css   # Session start styles
        │   ├── GameDesk.tsx       # Main game UI
        │   └── GameDesk.css       # Game desk styles
        │
        └── gen/                   # Generated TypeScript code (from proto)
            └── game/
                └── v1/
                    ├── game_pb.ts         # Protocol buffer types
                    └── game_connect.ts    # Connect-RPC client

```

## Key Files

### Configuration
- [buf.yaml](buf.yaml) - Buf linting/breaking change rules
- [buf.gen.yaml](buf.gen.yaml) - Code generation plugins
- [.gitignore](.gitignore) - Excludes generated code, build artifacts

### API Definition
- [proto/game/v1/game.proto](proto/game/v1/game.proto) - Single source of truth for API

### Backend Entry Point
- [backend/cmd/server/main.go](backend/cmd/server/main.go) - Starts Connect-RPC server

### Frontend Entry Point
- [frontend/index.html](frontend/index.html) - HTML wrapper
- [frontend/src/main.tsx](frontend/src/main.tsx) - React initialization

### Main Application Logic
- [backend/internal/api/handler.go](backend/internal/api/handler.go) - All RPC implementations
- [frontend/src/App.tsx](frontend/src/App.tsx) - Game state management
- [frontend/src/components/GameDesk.tsx](frontend/src/components/GameDesk.tsx) - Main gameplay UI

## Generated Files (Do Not Edit)

These are auto-generated by `buf generate`:

**Backend:**
- `backend/gen/game/v1/game.pb.go`
- `backend/gen/game/v1/gamev1connect/*.go`

**Frontend:**
- `frontend/src/gen/game/v1/game_pb.ts`
- `frontend/src/gen/game/v1/game_connect.ts`

**Note:** These are in `.gitignore` but are generated locally.

## File Count Summary

- **Proto files:** 1
- **Go files:** 6 (+ generated)
- **TypeScript/React files:** 10 (+ generated)
- **Config files:** 7
- **Documentation:** 6 markdown files
- **Total (excluding generated):** ~30 files

## Lines of Code (Approximate)

- **Proto:** ~200 lines
- **Go backend:** ~800 lines
- **TypeScript frontend:** ~700 lines
- **CSS:** ~400 lines
- **Total:** ~2,100 lines (excluding generated code)

## Dependencies

### Backend (Go)
- `connectrpc.com/connect` - Connect-RPC framework
- `google.golang.org/protobuf` - Protocol buffers
- `github.com/google/uuid` - UUID generation
- `github.com/rs/cors` - CORS middleware
- `golang.org/x/net` - HTTP/2 support

### Frontend (npm)
- `react` & `react-dom` - UI framework
- `@connectrpc/connect` - Connect-RPC client
- `@connectrpc/connect-web` - Browser transport
- `@bufbuild/protobuf` - Protocol buffers for JS
- `vite` - Build tool
- `typescript` - Type system

### Development Tools
- `buf` - Proto management and code generation
- `make` - Build automation (optional)

## Build Artifacts (Ignored by Git)

- `backend/bin/` - Compiled Go binaries
- `backend/gen/` - Generated Go code
- `frontend/dist/` - Production build
- `frontend/src/gen/` - Generated TypeScript code
- `frontend/node_modules/` - npm packages
- `*.log` - Log files
